"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[238],{5101:function(e,t,n){n.d(t,{mY:function(){return l},x4:function(){return i}});var o=n(6265),r=n.n(o);const u="https://limitless-hamlet.herokuapp.com/",a=r().create({baseURL:u,timeout:8e3});a.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer "+t:delete e.headers.Authorization,e}),(e=>Promise.reject(e)));var s=a;function i(e){return s({url:"/user/login",method:"post",data:e})}function l(e){return s({url:"/admin/findByEmail",method:"post",data:e})}},4238:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=n(3396),r=n(9242);const u=(0,o._)("h1",null,"登入",-1),a=(0,o.Uk)("   "),s=(0,o.Uk)("註冊"),i=(0,o.Uk)("管理員後台");function l(e,t,n,l,c,d){const m=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[u,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"請輸入信箱","onUpdate:modelValue":t[0]||(t[0]=e=>l.user.email=e),onKeyup:t[1]||(t[1]=(0,r.D2)(((...e)=>l.submitLogin&&l.submitLogin(...e)),["enter"]))},null,544),[[r.nr,l.user.email]]),(0,o.wy)((0,o._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.user.password=e),placeholder:"請輸入8位密碼",onKeyup:t[3]||(t[3]=(0,r.D2)(((...e)=>l.submitLogin&&l.submitLogin(...e)),["enter"]))},null,544),[[r.nr,l.user.password]]),(0,o._)("button",{onClick:t[4]||(t[4]=(...e)=>l.submitLogin&&l.submitLogin(...e))},"登入"),a,(0,o.Wm)(m,{to:"/register"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(m,{to:"/admin"},{default:(0,o.w5)((()=>[i])),_:1})])}var c=n(4870),d=n(5101),m={name:"Login",setup(){(0,o.bv)((()=>{localStorage.removeItem("token")}));const e=(0,c.qj)({email:"",password:""});async function t(){const t=await(0,d.x4)(e);console.log(t);const n=t.data.body;200===t.status?(alert("登入成功"),localStorage.setItem("token",n)):alert(n)}return{submitLogin:t,user:e}}},p=n(89);const f=(0,p.Z)(m,[["render",l]]);var g=f}}]);
//# sourceMappingURL=238.d7a40471.js.map